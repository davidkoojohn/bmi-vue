import{z as e,A as t,B as s,t as n,r as o,s as l,F as a,C as r,u as c,D as i,E as u,G as d,H as m,I as p,J as f,K as g,L as y,M as v,w as b,x as h,N as k,o as w}from"./vendor.50f630eb.js";import"./index.8ab6916b.js";const C=d();e("data-v-50c47806");const _=c("div",{class:"card-header"},[c("span",null,"BMI 中国标准")],-1),S=c("i",{class:"el-icon-d-arrow-right"},null,-1),x={class:"key"},B={class:"val"};t();const M={expose:[],props:{status:{type:String,default:""}},setup(e){const t=e,d=[{key:"分类",value:"BMI 范围",bg:"#8dd8f8"},{key:"偏瘦",value:"<= 18.4",bg:"#ccc"},{key:"正常",value:"18.5 ~ 23.9",bg:"#6c0"},{key:"过重",value:"24.0 ~ 27.9",bg:"#ff0"},{key:"肥胖",value:">= 28.0",bg:"#f90"}],{status:m}=s(t);return(e,t)=>{const s=n("el-card");return o(),l(s,{class:"box-card"},{header:C((()=>[_])),default:C((()=>[(o(),l(a,null,r(d,((e,t)=>c("div",{key:t,class:"text item",style:{backgroundColor:e.bg}},[c("span",{style:{opacity:i(m)===e.key?1:0},class:"arrow"},[S],4),c("span",x,u(e.key),1),c("span",B,u(e.value),1)],4))),64))])),_:1})}},__scopeId:"data-v-50c47806"};var T={};Object.defineProperty(T,"__esModule",{value:!0});var I=m,N=p,V=f;function j(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var O=j(g),E=j(V);const L="Escape",H={success:"success",info:"info",warning:"warning",error:"error"};var P=I.defineComponent({name:"ElMessage",props:{customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},iconClass:{type:String,default:""},id:{type:String,default:""},message:{type:[String,Object],default:""},onClose:{type:Function,required:!0},showClose:{type:Boolean,default:!1},type:{type:String,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0}},emits:["destroy"],setup(e){const t=I.computed((()=>{const t=e.type;return t&&H[t]?`el-message__icon el-icon-${H[t]}`:""})),s=I.computed((()=>({top:`${e.offset}px`,zIndex:e.zIndex}))),n=I.ref(!1);let o=null;function l(){e.duration>0&&(o=setTimeout((()=>{n.value&&a()}),e.duration))}function a(){n.value=!1}function r({code:e}){e===L?n.value&&a():l()}return I.onMounted((()=>{l(),n.value=!0,function(e,t,s,n=!1){e&&t&&s&&e.addEventListener(t,s,n)}(document,"keydown",r)})),I.onBeforeUnmount((()=>{!function(e,t,s,n=!1){e&&t&&s&&e.removeEventListener(t,s,n)}(document,"keydown",r)})),{typeClass:t,customStyle:s,visible:n,close:a,clearTimer:function(){clearTimeout(o),o=null},startTimer:l}}});const $={key:0,class:"el-message__content"};P.render=function(e,t,s,n,o,l){return I.openBlock(),I.createBlock(I.Transition,{name:"el-message-fade",onBeforeLeave:e.onClose,onAfterLeave:t[4]||(t[4]=t=>e.$emit("destroy"))},{default:I.withCtx((()=>[I.withDirectives(I.createVNode("div",{id:e.id,class:["el-message",e.type&&!e.iconClass?`el-message--${e.type}`:"",e.center?"is-center":"",e.showClose?"is-closable":"",e.customClass],style:e.customStyle,role:"alert",onMouseenter:t[2]||(t[2]=(...t)=>e.clearTimer&&e.clearTimer(...t)),onMouseleave:t[3]||(t[3]=(...t)=>e.startTimer&&e.startTimer(...t))},[e.type||e.iconClass?(I.openBlock(),I.createBlock("i",{key:0,class:[e.typeClass,e.iconClass]},null,2)):I.createCommentVNode("v-if",!0),I.renderSlot(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(I.openBlock(),I.createBlock(I.Fragment,{key:1},[I.createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),I.createCommentVNode("  eslint-disable-next-line "),I.createVNode("p",{class:"el-message__content",innerHTML:e.message},null,8,["innerHTML"])],2112)):(I.openBlock(),I.createBlock("p",$,I.toDisplayString(e.message),1))])),e.showClose?(I.openBlock(),I.createBlock("div",{key:1,class:"el-message__closeBtn el-icon-close",onClick:t[1]||(t[1]=I.withModifiers(((...t)=>e.close&&e.close(...t)),["stop"]))})):I.createCommentVNode("v-if",!0)],46,["id"]),[[I.vShow,e.visible]])])),_:3},8,["onBeforeLeave"])},P.__file="packages/message/src/index.vue";var z=Object.defineProperty,D=Object.defineProperties,F=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,G=(e,t,s)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;const J=[];let K=1;const Z=function(e={}){if(E.default)return;"string"==typeof e&&(e={message:e});let t=e,s=e.offset||20;J.forEach((({vm:e})=>{s+=(e.el.offsetHeight||0)+16})),s+=16;const n="message_"+K++,o=t.onClose;var l,a;l=((e,t)=>{for(var s in t||(t={}))q.call(t,s)&&G(e,s,t[s]);if(U)for(var s of U(t))A.call(t,s)&&G(e,s,t[s]);return e})({},t),a={onClose:()=>{!function(e,t){const s=J.findIndex((({vm:t})=>{const{id:s}=t.component.props;return e===s}));if(-1===s)return;const{vm:n}=J[s];if(!n)return;null==t||t(n);const o=n.el.offsetHeight;J.splice(s,1);const l=J.length;if(!(l<1))for(let a=s;a<l;a++){const e=parseInt(J[a].vm.el.style.top,10)-o-16;J[a].vm.component.props.offset=e}}(n,o)},offset:s,id:n,zIndex:O.default.nextZIndex()},t=D(l,F(a));const r=document.createElement("div");r.className=`container_${n}`;const c=t.message,i=I.createVNode(P,t,N.isVNode(t.message)?{default:()=>c}:null);return i.props.onDestroy=()=>{I.render(null,r)},I.render(i,r),J.push({vm:i}),document.body.appendChild(r.firstElementChild),{close:()=>i.component.proxy.visible=!1}};["success","warning","info","error"].forEach((e=>{Z[e]=t=>("string"==typeof t?t={message:t,type:e}:t.type=e,Z(t))})),Z.closeAll=function(){for(let e=J.length-1;e>=0;e--){J[e].vm.component.ctx.close()}};const Q=Z;Q.install=e=>{e.config.globalProperties.$message=Q};var R=T.default=Q;const W=c("h2",null,"免费计算你的身体质量指数 (BMI)",-1),X=c("span",{class:"unit"},"单位: 厘米 cm",-1),Y=c("span",{class:"unit"},"单位: 千克 kg",-1),ee=h(" 计算BMI ");function te(e){return function({url:e,method:t="GET",data:s=null}={}){return fetch(e,{method:t,body:null===s?s:JSON.stringify(s),headers:{"Content-Type":"application/json; charset=utf-8"}}).then((e=>e.json()))}({method:"POST",url:"https://veihwwnelcwq.leanapp.cn/bmi",data:e})}const se=k({components:{Status:M,CalcForm:{expose:[],emits:["handleSubmit"],setup(e,{emit:t}){const s=y(null),r=v({height:"",weight:""}),u=v({height:[{required:!0,message:"请输入身高",trigger:"blur"},{type:"number",message:"请输入合法的数值",trigger:"blur"}],weight:[{required:!0,message:"请输入体重",trigger:"blur"},{type:"number",message:"请输入合法的数值",trigger:"blur"}]}),d=async()=>{const e=i(s);if(e)try{await e.validate(),t("handleSubmit",r)}catch(n){R.error("请正确填写表单！")}};return(e,t)=>{const m=n("el-input"),p=n("el-form-item"),f=n("el-button"),g=n("el-form");return o(),l(a,null,[W,c(g,{model:i(r),rules:i(u),ref:s,class:"bmi-form"},{default:b((()=>[c(p,{label:"身高",prop:"height"},{default:b((()=>[c(m,{modelValue:i(r).height,"onUpdate:modelValue":t[1]||(t[1]=e=>i(r).height=e),modelModifiers:{number:!0}},null,8,["modelValue"]),X])),_:1}),c(p,{label:"体重",prop:"weight"},{default:b((()=>[c(m,{modelValue:i(r).weight,"onUpdate:modelValue":t[2]||(t[2]=e=>i(r).weight=e),modelModifiers:{number:!0}},null,8,["modelValue"]),Y])),_:1}),c(p,null,{default:b((()=>[c(f,{class:"submit-bmi",type:"primary",onClick:d},{default:b((()=>[ee])),_:1})])),_:1})])),_:1},8,["model","rules"])],64)}}}},setup:(e,{emit:t})=>{y([]);return{status:y(""),handleSubmit:async e=>{const t=w.service({fullscreen:!0,text:"计算中..."});try{if("!ok"===(await te(e)).code)throw"!ok"}catch(s){R.error("内部错误，请刷新重试！")}finally{t.close()}}}}}),ne={class:"left"},oe={class:"right"};se.render=function(e,t,s,a,r,i){const u=n("CalcForm"),d=n("el-col"),m=n("Status"),p=n("el-row"),f=n("app-layout");return o(),l(f,null,{content:b((()=>[c(p,{class:"container"},{default:b((()=>[c(d,{span:12,xs:24},{default:b((()=>[c("div",ne,[c(u,{onHandleSubmit:e.handleSubmit},null,8,["onHandleSubmit"])])])),_:1}),c(d,{span:12,xs:24},{default:b((()=>[c("div",oe,[c(m,{status:e.status},null,8,["status"])])])),_:1})])),_:1})])),_:1})};export default se;
